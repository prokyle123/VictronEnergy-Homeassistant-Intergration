# Victron Modbus Integration with Home Assistant

## üåü Overview

This project integrates Victron Energy devices with Home Assistant using the Modbus TCP protocol. By connecting to a Victron CCGX (Color Control GX) or similar device, it allows for real-time monitoring of various parameters such as battery state of charge, current, temperature, solar power generation, and more.

## üî• Features

- **Battery State of Charge (SOC) Monitoring**: Keep track of the battery SOC in percentage.
- **Battery Current Monitoring**: Monitor the battery current in amperes (DC).
- **Battery Temperature Monitoring**: Measure the battery temperature in degrees Celsius.
- **Solar Power Monitoring**: Monitor the power generated by solar panels in watts.
- **Solar Current Monitoring**: Track the current generated by solar panels in amperes (DC).
- **Daily Solar Yield Monitoring**: Monitor the daily solar energy yield in watts.
- **Historical Solar Yield Monitoring**: Check the solar energy yield for yesterday in watts.
- **DC Power Monitoring**: Monitor the DC power output in watts.
- **Battery Time Remaining Monitoring**: Estimate the remaining time for the battery in seconds.
- **AC Consumption Monitoring**: Monitor the AC power consumption in watts.
- **Battery Voltage Monitoring**: Check the battery voltage in volts (DC).
- **Peak Solar Power Monitoring**: Monitor the maximum solar power generated today in watts.
- **Battery Power Monitoring**: Track the power output from the battery in watts.

## üõ†Ô∏è Hardware Requirements

- **Victron Energy Device with Modbus TCP Support**: Ensure your device (such as CCGX) is configured and accessible over the network.
- **Home Assistant**: An open-source platform for smart home automation.

## üñ•Ô∏è Software Requirements

- **Home Assistant**: An open-source platform for smart home automation.
- **Modbus Integration**: Ensure the Modbus integration is enabled in Home Assistant.

## üîå Hardware Setup

Ensure your Victron device is connected to the same network as your Home Assistant instance. The device should have Modbus TCP enabled.

## üöÄ Getting Started

1. **Add the Modbus Integration**: Add the Modbus integration to your Home Assistant setup by including the following in your `configuration.yaml` file:

   ```yaml
   modbus:
     - name: victron
       type: tcp
       host: 192.168.12.229  # use the IP address of your CCGX
       port: 502
       sensors:
         - name: "PV Battery SOC"
           scan_interval: 10
           unit_of_measurement: "%"
           slave: 226
           address: 266
           scale: 0.1
           precision: 1

         - name: "PV Battery Current"
           scan_interval: 10
           unit_of_measurement: "A DC"
           slave: 226
           address: 261
           scale: 0.1
           precision: 1

         - name: "PV Battery Temp"
           scan_interval: 10
           unit_of_measurement: "¬∞C"
           slave: 24
           address: 3304
           scale: 0.01
           precision: 1

         - name: "Pv Solar Power"
           scan_interval: 10
           unit_of_measurement: "W"
           slave: 223
           address: 789
           scale: 0.1
           precision: 1

         - name: "Pv Solar Current"
           scan_interval: 10
           unit_of_measurement: "A DC"
           slave: 223
           address: 777
           scale: 0.1
           precision: 1

         - name: "Pv Yield Today"
           scan_interval: 10
           unit_of_measurement: "W"
           slave: 223
           address: 784
           scale: 0.1
           precision: 2

         - name: "Pv Yield Yesterday"
           scan_interval: 10
           unit_of_measurement: "W"
           slave: 223
           address: 786
           scale: 0.1
           precision: 2

         - name: "PV Dc Power"
           scan_interval: 10
           unit_of_measurement: "W"
           slave: 100
           address: 860
           scale: 1
           precision: 1

         - name: "Pv Battery Time Remaining"
           scan_interval: 10
           unit_of_measurement: "s"
           slave: 100
           address: 846
           scale: 10
           precision: 0

         - name: "Pv AC Consumption"
           scan_interval: 10
           unit_of_measurement: "W"
           slave: 100
           address: 817
           scale: 1
           precision: 1

         - name: "Pv Battery Voltage"
           scan_interval: 10
           unit_of_measurement: "V DC"
           slave: 100
           address: 840
           scale: 0.1
           precision: 1

         - name: "PV Panel Max Today"
           unit_of_measurement: "W"
           slave: 223
           address: 785
           data_type: int16
           scale: 1.0
           precision: 0

         - name: "PV Battery Power"
           unit_of_measurement: "W"
           slave: 100
           address: 842
           data_type: int16
           scale: 1.0
           precision: 0
           device_class: power
   ```

2. **Restart Home Assistant**: After editing the configuration file, restart Home Assistant to apply the changes.

3. **Monitor the Data**: Once Home Assistant is running, you can view the data from the Victron sensors on the Home Assistant dashboard. The sensors will provide real-time updates on various solar and battery parameters.

## üìö Documentation

For more detailed information on Home Assistant configurations and integrations, refer to the [Home Assistant Documentation](https://www.home-assistant.io/).

## ü§ù Contributing

We welcome contributions to this project! Feel free to open issues or submit pull requests on GitHub. Together, we can improve and expand the capabilities of the Victron Modbus Integration Project.

## üìß Contact

If you have any questions or need further assistance, please open an issue on GitHub or contact me at your.email@example.com.

---

Feel free to copy and paste this into your `README.md` file on GitHub!
